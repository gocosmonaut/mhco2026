{#
/**
 * @file
 * Theme override to display a menu.
 *
 * Available variables:
 * - menu_name: The machine name of the menu.
 * - items: A nested list of menu items. Each menu item contains:
 *   - attributes: HTML attributes for the menu item.
 *   - below: The menu item child items.
 *   - title: The menu link title.
 *   - url: The menu link url, instance of \Drupal\Core\Url
 *   - localized_options: Menu link localized options.
 *   - is_expanded: TRUE if the link has visible children within the current
 *     menu tree.
 *   - is_collapsed: TRUE if the link has children within the current menu tree
 *     that are not currently visible.
 *   - in_active_trail: TRUE if the link is in the active trail.
 */
#}
{% import _self as menus %}

{#
  We call a macro which calls itself to render the full tree.
  @see http://twig.sensiolabs.org/doc/tags/macro.html
#}

{% if top_bar %}
	{% if top_bar_sticky %}
		<div id="top-bar-sticky-container" class="scrollup" data-sticky-container>
		{% endif %}
		<div {{ top_bar_attributes }}>
			<div class="title-bar" data-responsive-toggle="main-menu" data-hide-for="medium">
				<button class="menu-icon" type="button" data-toggle></button>
				<div class="title-bar-title">{{ top_bar_menu_text }}</div>
			</div>
			<nav class="top-bar" id="main-menu" role="navigation">
				<div class="top-bar-left">
					<div class="site-logo">
						<a href="{{ url('<front>') }}">
							<svg id="mhco-logo" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 127.63519 32.9776">
								<polygon points="30.27 14.9326 22.1972 27.7373 14.164 14.9795 14.083 14.9795 14.083 32.9776 30.3115 32.9776 30.3115 14.9326 30.27 14.9326"/>
								<path d="M31.6904,2.877l.1553-.1294c-.1255,.0019-.2266,.0053-.2906,.0122-.2383,.0083-.4619,.0757-.6718,.2016-.2886,.1802-.4654,.2881-.5303,.3257-.0723,.045-.1406,.0669-.2051,.0669-.0298,0-.1011-.0146-.2168-.0449-.123-.022-.1948-.0322-.2168-.0322-.0937,0-.2915,.0376-.5962,.1108-.3022,.0664-.4643,.1016-.4853,.1016-.3765-.0596-.5816-.0894-.6187-.0894-.0361,0-.0747,.0254-.1172,.0781-.0444,.0757-.0884,.1343-.1313,.1792-.1734,.2022-.4512,.3492-.8335,.4385-.0503,.0152-.1553,.0264-.3135,.0337-.166,.0147-.2808,.0298-.3457,.044-.1528,.0307-.2749,.0756-.3691,.1352-.086,.0679-.1324,.1011-.1407,.1011-.1225,.0151-.2412,.0371-.3569,.0679-.1514,.0444-.2529,.0927-.3027,.145-.0943,.1054-.2027,.1948-.3252,.2685-.1006,.0679-.1797,.1099-.2388,.1241-.0571,.0078-.2412,.0483-.5513,.124-.122,.0376-.2524,.0552-.3891,.0552-.1089,0-.2569-.0665-.4448-.2022-.1949-.1411-.3677-.2124-.5191-.2124-.1304,0-.3896,.1309-.7798,.3921-.3901,.2705-.6577,.4048-.8003,.4048-.0805,0-.145-.0191-.1948-.0562-.0444-.0449-.0688-.0674-.0762-.0674-.3608,0-.6025,.064-.7251,.1905-.0439,.0678-.0796,.1128-.1079,.1347-.0449,.0376-.1025,.0562-.1733,.0562-.0366,0-.0772-.0635-.1211-.1909-.0571-.1573-.1108-.2574-.1607-.3032-.0288-.0376-.1479-.0933-.3569-.1685-.2095-.082-.3428-.1231-.4018-.1231-.021,0-.0826,.0123-.1827,.0323-.1171,.0249-.2055,.0381-.271,.0468v.1792c-.0073-.1044-.04-.1977-.0976-.2797-.0938-.1123-.2232-.1685-.3901-.1685-.0782,0-.2081,.0366-.3897,.1123-.188,.0747-.3931,.1099-.6167,.1099-.0225,0-.0937-.0098-.2168-.0323-.1147-.0302-.1875-.0449-.2163-.0449-.1011,0-.2344,.0596-.4004,.1802-.2021,.1724-.3716,.3066-.5088,.4033-.2285,.1636-.4726,.2857-.7261,.3789l7.4761,11.6763L31.6904,2.877Z"/>
								<path d="M8.5297,1.3565c-.289,0-.4609-.168-.5195-.5039-.0351-.1949-.0605-.3101-.0757-.3477-.0425-.1128-.125-.1689-.2475-.1689-.0733,0-.2207,.0229-.4444,.0669-.2309,.0375-.3823,.0561-.4546,.0561-.0288,0-.0981-.0264-.2065-.0771-.1079-.0523-.1699-.0791-.1826-.0791-.0449,0-.2681,.0751-.6734,.2241-.1147,0-.2441-.0567-.3891-.168C5.0708,.1426,4.9223,.023,4.8935,0V.2681h-.6499c.0791,.2402,.1514,.3984,.2163,.4712,.0791,.0688,.145,.1216,.1948,.1582,.1016,.082,.1773,.2095,.2286,.3813,.0566,.1724,.0849,.3853,.0849,.6402,0,.2241-.0825,.3794-.249,.4712-.1729,.0893-.2593,.2265-.2593,.4155l.1299,.269c.0879,.1792,.1294,.2769,.1294,.291l-.0962,.3257c-.0591,.2095-.0874,.3516-.0874,.4258,0,.1499,.0469,.2627,.1421,.3364,.0991,.0757,.1504,.1582,.1504,.2486-.0581,.3589-.1807,.9555-.3682,1.7939l.1406,.2813-.9741,8.8305-.4004,.0113,.0113,.3369c0,.4858-.0357,1.0835-.1089,1.7939-.0869,.9502-.2095,1.7188-.3677,2.3008l-1.3096,2.9736c-.0732,.2989-.1123,.6172-.1196,.9532-.0503,.4052-.231,1.0312-.541,1.8867-.0435,.1191-.1118,.2363-.2051,.3476-.0513,.0674-.1089,.1416-.1743,.2246l-.2598,.336C.0502,26.9063,0,27.0205,0,27.1104c0,.125,.0366,.2236,.1088,.291,.0503,.0381,.1368,.0742,.2603,.1113,.2803,.0899,.4468,.252,.4971,.4815,.0512,.2041,.1294,.3154,.2382,.3369,.086,.0234,.1299,.1816,.1299,.4726,0,.0157-.1015,.1114-.3032,.291-.2026,.1797-.3022,.3252-.3022,.4385,0,.0303,.0322,.1074,.0966,.2373,.0796,.1465,.1558,.2598,.2271,.335,.1372,.7099,.2197,1.3916,.249,2.042,.0078,.1279,.0327,.2324,.0772,.3144,.0341,.0743,.1504,.2461,.3457,.5157h6.9404V1.3491c-.0103,.001-.0254,.0074-.0352,.0074Z"/>
								<path d="M44.2299,5.1504c-.0854-.1494-.1626-.2915-.2265-.4267-.0366-.0821-.0728-.1646-.1079-.2461-.0503-.1206-.1202-.2105-.2056-.271-.0654-.044-.1226-.066-.1743-.066-.0137,0-.0386,.0118-.0757,.0328-.0425,.0234-.0757,.041-.0967,.0571-.1372-.2622-.2637-.3941-.3789-.3941-.0215,0-.0513,.0171-.0859,.0469-.0362,.021-.0669,.0322-.0869,.0322-.0513,0-.1206-.0825-.2061-.246-.0137-.0166-.0264-.0298-.0322-.0455-.166-.2988-.3325-.5952-.499-.8862l-6.2256,.0073v30.2325h5.8911v-13.9375h.5083l-.1402-1.6587,.4219-.6856-.4331-.1792-.8667-.4604c-.1582-.2539-.2417-.3887-.249-.4033-.0293-.0528-.0576-.1231-.0859-.2129,0-.0079-.021-.0376-.065-.0899-.0293-.0454-.0439-.0972-.0439-.1572v-.0103l-.0967-.8203,.8008-1.7851c.0439-.1255,.0678-.1934,.0761-.2002,.0718-.0899,.1983-.2066,.3789-.3482,.0362-.0298,.0674-.0571,.0972-.0781l.3027-.4395,.1514-1.0986,.0542-.123c.0225-.045,.0474-.0987,.0767-.1563,.0215-.0459,.0454-.0942,.0752-.146l.3569-.7417,1.2993-3.5781c.0435-.0986,.065-.1655,.065-.2031,0-.0088-.0577-.1133-.1739-.314Z"/>
								<polygon points="65.1821 4.668 65.1821 15.4155 53.9501 15.4155 53.9501 6.418 49.4575 4.668 49.4575 32.9776 53.9501 32.9776 53.9501 20.0049 65.1821 20.0049 65.1821 31.2276 69.6088 32.9776 69.6088 4.668 65.1821 4.668"/>
								<path d="M96.0732,11.7451c-1.3286-.7505-2.6016-1.3476-3.8159-1.7876-1.2154-.4404-2.4756-.6621-3.7818-.6621-1.1245,0-2.1718,.2408-3.1401,.7193-.9663,.4814-1.8061,1.1484-2.5137,2.0029-.7109,.855-1.2685,1.8667-1.6723,3.0337-.4053,1.1655-.6075,2.4365-.6075,3.81,0,1.375,.2022,2.6456,.6075,3.8096,.4038,1.169,.9682,2.166,1.6884,2.9971,.7198,.8291,1.5816,1.4766,2.5821,1.9424,1.001,.4687,2.0996,.7011,3.2925,.7011,.5175,0,1.0522-.039,1.603-.1171,.5522-.0782,1.1465-.2149,1.7886-.4082,.6435-.1934,1.3349-.4532,2.0795-.7774,.7417-.3242,1.5621-.7461,2.4634-1.2646l1.4507,4.5127c-1.8003,1.0878-3.4722,1.8125-5.0122,2.1757-1.543,.3623-2.9897,.545-4.3394,.545-1.8681,0-3.5908-.3575-5.1655-1.0684-1.5752-.7139-2.9365-1.7051-4.0854-2.9756-1.147-1.2705-2.0479-2.7607-2.7017-4.4736-.6523-1.71-.9785-3.5752-.9785-5.5987,0-2.125,.3555-4.0561,1.064-5.7934,.7089-1.7368,1.6543-3.2275,2.8359-4.4722,1.1821-1.2441,2.5381-2.2104,4.0679-2.896,1.5312-.687,3.1289-1.0317,4.7944-1.0317,1.3726,0,2.814,.188,4.3213,.5644,1.5083,.376,3.1977,1.0572,5.0654,2.0425,0,0-1.8906,4.4702-1.89059,4.47019Z"/>
								<path d="M126.63909,24.3828c-.6645,1.71-1.5757,3.2071-2.7339,4.4922-1.1601,1.2832-2.5215,2.2862-4.0849,3.0137-1.5645,.7236-3.2476,1.0889-5.0459,1.0889-1.8023,0-3.4849-.3653-5.0498-1.0889-1.5635-.7275-2.9195-1.7305-4.0664-3.0137-1.1485-1.2851-2.0547-2.7822-2.7193-4.4922-.6636-1.7119-.9966-3.5634-.9966-5.5595,0-1.9707,.333-3.8174,.9966-5.5411,.6646-1.7251,1.5708-3.2211,2.7193-4.4921,1.1469-1.2701,2.5029-2.2745,4.0664-3.0137,1.5649-.7393,3.2475-1.1084,5.0498-1.1084,1.7983,0,3.4814,.3691,5.0459,1.1084,1.5634,.7392,2.9248,1.7436,4.0849,3.0137,1.1582,1.271,2.0694,2.767,2.7339,4.4921,.6651,1.7237,.9961,3.5704,.9961,5.5411,0,1.9961-.331,3.8476-.9961,5.5595Zm-4.2871-9.3139c-.416-1.1514-.9971-2.1568-1.7402-3.0127-.7432-.855-1.6075-1.5225-2.5987-2.002-.9907-.48-2.0586-.7202-3.208-.7202-1.1465,0-2.2153,.2402-3.206,.7202-.9922,.4795-1.8521,1.147-2.5821,2.002-.7309,.8559-1.3115,1.8613-1.7392,3.0127-.4273,1.1552-.6406,2.4067-.6406,3.7544,0,1.3476,.2133,2.5986,.6406,3.7519,.4277,1.1543,1.0083,2.1572,1.7392,3.0127,.73,.8545,1.5899,1.5244,2.5821,2.002,.9907,.4814,2.0595,.7197,3.206,.7197,1.1494,0,2.2173-.2383,3.208-.7197,.9912-.4776,1.8555-1.1475,2.5987-2.002,.7431-.8555,1.3242-1.8584,1.7402-3.0127,.416-1.1533,.62551-2.4043,.62551-3.7519,0-1.3477-.20951-2.5992-.62551-3.7544Z"/>
							</svg>
						</a>
					</div>
					<ul class="dropdown menu" data-dropdown-menu>

						<li class="menu-text" style="display: none;">{{ site_name }}</li>
					</ul>
				</div>
				<div class="top-bar-right">
					{{ menus.menu_links(items, attributes, 0, 1) }}
					{% if top_bar_search %}
						{{ top_bar_search }}
					{% endif %}
					{% if top_bar_languageswitcher %}
						{{ top_bar_languageswitcher }}
					{% endif %}
				</div>
			</nav>
		</div>
		{% if top_bar_sticky %}
		</div>
	{% endif %}
{% else %}
	{{ menus.menu_links(items, attributes, 0, 0) }}
{% endif %}

{% macro menu_links(items, attributes, menu_level, top_bar) %}
	{% import _self as menus %}
	{% if items %}
		{% if top_bar %}
			{% if menu_level == 0 %}
				<ul{{attributes.addClass('menu','vertical','medium-horizontal').setAttribute('data-responsive-menu','drilldown medium-dropdown')}}>
				{% else %}
					<ul class="submenu menu vertical" data-submenu>
					{% endif %}
				{% else %}
					{% if menu_level == 0 %}
						<ul{{attributes.addClass('dropdown','menu')}} data-dropdown-menu>
						{% else %}
							<ul class="menu">
							{% endif %}
						{% endif %}
						{% for item in items %}
							{% if top_bar %}
								{%
          set item_classes = [
            item.below is not empty ? 'has-submenu' ,
            item.is_expanded ? 'menu-item--expanded',
            item.is_collapsed ? 'menu-item--collapsed',
            item.in_active_trail ? 'menu-item--active-trail is-active',
          ]
        %}
							{% endif %}
							<li{{item.attributes.addClass(item_classes)}}>
								{{ link(item.title, item.url) }}
								{% if item.below %}
									{{ menus.menu_links(item.below, attributes, menu_level + 1, top_bar) }}
								{% endif %}
							</li>
						{% endfor %}
					</ul>
			{% endif %}
		{% endmacro %}
